var HTTP = require('http');
var FileSystem = require('fs');

var server = HTTP.createServer(function(request,response){

  FileSystem.readFile('hola.html',function(error,data){//Manda a llamar a hola.html
    console.log('Usuario conectado a: '+ request.url);
    //console.log(request); //request contiene todos los datos relacionados al dispositivo del usuario
    response.writeHead(200,"Content-Type:text/html"); //Manda un codigo 200 de OK
    if(request.method=='GET'){ //Si es GET envía hola.html
          response.write(data);
    }else{
      response.write("Solo se acepta GET");
    }
    response.end();
  });
});

server.listen(3000,function(){ //Primer parámetro = puerto
  console.log('Escuchando en puerto 3000');
});
